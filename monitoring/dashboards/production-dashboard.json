{
  "widgets": [
    {
      "type": "text",
      "x": 0,
      "y": 0,
      "width": 24,
      "height": 1,
      "properties": {
        "markdown": "# HZ-Navigator Production Dashboard"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 1,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "ECS CPU Utilization",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ECS", "CPUUtilization", "ClusterName", "hz-navigator-production-cluster", "ServiceName", "hz-navigator-production-backend-service"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 70, "color": "#ff7f0e" },
            { "label": "Critical", "value": 85, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 6,
      "y": 1,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "ECS Memory Utilization",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ECS", "MemoryUtilization", "ClusterName", "hz-navigator-production-cluster", "ServiceName", "hz-navigator-production-backend-service"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 80, "color": "#ff7f0e" },
            { "label": "Critical", "value": 90, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 1,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "ECS Running Tasks",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["ECS/ContainerInsights", "RunningTaskCount", "ClusterName", "hz-navigator-production-cluster", "ServiceName", "hz-navigator-production-backend-service"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Minimum", "value": 2, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 18,
      "y": 1,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "ECS Pending Tasks",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["ECS/ContainerInsights", "PendingTaskCount", "ClusterName", "hz-navigator-production-cluster", "ServiceName", "hz-navigator-production-backend-service"]
        ],
        "region": "us-east-1",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 7,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ALB Request Count",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ApplicationELB", "RequestCount", "LoadBalancer", "app/hz-navigator-production-alb/XXXXXXXXXX", { "stat": "Sum" }]
        ],
        "region": "us-east-1",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 7,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ALB Response Time (p95)",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ApplicationELB", "TargetResponseTime", "LoadBalancer", "app/hz-navigator-production-alb/XXXXXXXXXX", { "stat": "p95" }]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 1, "color": "#ff7f0e" },
            { "label": "Critical", "value": 2, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 7,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ALB HTTP Errors",
        "view": "timeSeries",
        "stacked": true,
        "metrics": [
          ["AWS/ApplicationELB", "HTTPCode_ELB_5XX_Count", "LoadBalancer", "app/hz-navigator-production-alb/XXXXXXXXXX", { "stat": "Sum", "color": "#d62728" }],
          ["AWS/ApplicationELB", "HTTPCode_Target_5XX_Count", "LoadBalancer", "app/hz-navigator-production-alb/XXXXXXXXXX", { "stat": "Sum", "color": "#ff7f0e" }],
          ["AWS/ApplicationELB", "HTTPCode_ELB_4XX_Count", "LoadBalancer", "app/hz-navigator-production-alb/XXXXXXXXXX", { "stat": "Sum", "color": "#ffbb78" }]
        ],
        "region": "us-east-1",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 13,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "RDS CPU Utilization",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/RDS", "CPUUtilization", "DBInstanceIdentifier", "hz-navigator-production-postgres"],
          ["AWS/RDS", "CPUUtilization", "DBInstanceIdentifier", "hz-navigator-production-postgres-replica"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 75, "color": "#ff7f0e" },
            { "label": "Critical", "value": 90, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 6,
      "y": 13,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "RDS Database Connections",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/RDS", "DatabaseConnections", "DBInstanceIdentifier", "hz-navigator-production-postgres"],
          ["AWS/RDS", "DatabaseConnections", "DBInstanceIdentifier", "hz-navigator-production-postgres-replica"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 150, "color": "#ff7f0e" },
            { "label": "Max", "value": 200, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 13,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "RDS Free Storage",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/RDS", "FreeStorageSpace", "DBInstanceIdentifier", "hz-navigator-production-postgres"]
        ],
        "region": "us-east-1",
        "period": 300,
        "annotations": {
          "horizontal": [
            { "label": "Warning (20GB)", "value": 21474836480, "color": "#ff7f0e" },
            { "label": "Critical (10GB)", "value": 10737418240, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 18,
      "y": 13,
      "width": 6,
      "height": 6,
      "properties": {
        "title": "RDS Replica Lag",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/RDS", "ReplicaLag", "DBInstanceIdentifier", "hz-navigator-production-postgres-replica"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 30, "color": "#ff7f0e" },
            { "label": "Critical", "value": 60, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "Redis CPU Utilization",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ElastiCache", "CPUUtilization", "ReplicationGroupId", "hz-navigator-production-redis"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 75, "color": "#ff7f0e" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "Redis Memory Usage",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ElastiCache", "DatabaseMemoryUsagePercentage", "ReplicationGroupId", "hz-navigator-production-redis"]
        ],
        "region": "us-east-1",
        "period": 60,
        "annotations": {
          "horizontal": [
            { "label": "Warning", "value": 80, "color": "#ff7f0e" },
            { "label": "Critical", "value": 90, "color": "#d62728" }
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "Redis Cache Hit Rate",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/ElastiCache", "CacheHitRate", "ReplicationGroupId", "hz-navigator-production-redis"]
        ],
        "region": "us-east-1",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 25,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "CloudFront Requests",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/CloudFront", "Requests", "DistributionId", "XXXXXXXXXX", "Region", "Global", { "stat": "Sum" }]
        ],
        "region": "us-east-1",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 25,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "CloudFront Error Rate",
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          ["AWS/CloudFront", "4xxErrorRate", "DistributionId", "XXXXXXXXXX", "Region", "Global"],
          ["AWS/CloudFront", "5xxErrorRate", "DistributionId", "XXXXXXXXXX", "Region", "Global"]
        ],
        "region": "us-east-1",
        "period": 60
      }
    }
  ]
}

